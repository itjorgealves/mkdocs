{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>Subscribe to our newsletter</p>"},{"location":"use-vscode-and-mkdocs/","title":"Python virtual environment & GitHub actions","text":""},{"location":"use-vscode-and-mkdocs/#activate-environment-to-deploy","title":"Activate environment to deploy","text":"Activate environment to deploy<pre><code>cd /home/$USER/Documents/mkdocs/\nsource venv/bin/activate\nmkdocs serve\n</code></pre>"},{"location":"use-vscode-and-mkdocs/#deactivate","title":"Deactivate","text":"<pre><code>deactivate\n</code></pre>"},{"location":"use-vscode-and-mkdocs/#push-files-to-github-repo","title":"Push files to github repo","text":"<pre><code>cd /home/$USER/Documents/mkdocs/\ngit add .\ngit commit -m $'New files'\ngit push origin main\n</code></pre> <p>Warning</p> <p>If error acourr <pre><code>sign_and_send_pubkey: signing failed for \"******\" from agent: agent refused operation\ngit@github.com: Permission denied (publickey).\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.\n</code></pre></p> <p>Note</p> <p>If necessarly: <pre><code># To see fingerprints\nssh-add -l\n# To add and permit push\nssh-add\n</code></pre></p>"},{"location":"blog/","title":"Blog","text":""},{"location":"eJPT/Introduction/","title":"Introduction","text":""},{"location":"eJPT/Introduction/#penetration-testing-student","title":"Penetration Testing Student","text":"<p>The hardest thing you will ever do in cybersecurity is to land your first job. There are HR gateways, industry jargon, and companies unwilling to hire new talent. To help combat these challenges, we have built a hands-on training path focused on the necessary skills to start your career. The Penetration Testing Student Learning Path covers prerequisite topics introducing you to pentesting, information security, and programming. The learning path prepares you for an entry-level position within a red team, exposes you to bug bounty basics, and provides the skills and practice necessary for the eJPT certification exam.</p> <p>The eLearnSecurity Jr. Penetration Tester exam (eJPT) validates that the individual has the knowledge and skills required to fulfill a role as an entry-level penetration tester. This certification covers Assessment Methodologies and Enterprise Auditing with Host, Network, and Web Application Penetration Testing. This exam is designed to be the first milestone certification for someone with little to no experience in cybersecurity, simulating the skills utilized during a real-world engagement. This exam truly shows yourself and your employer that you have what it takes to be part of a winning penetration testing team.</p>"},{"location":"eJPT/Notes/","title":"Notes","text":""},{"location":"eJPT/Notes/#nmap","title":"nmap","text":"<pre><code>nmap -T4 10.4.20.0/20 --open\n# service enumeration -sV and operating system -O\nnmap 10.4.17.133 -sV -O\nnmap 10.4.17.133 -sV -sC\n</code></pre> Windows Recon: SMB - Nmap Scripts<pre><code>nmap -p445 --script smb-protocols 10.0.17.200\nnmap -p445 --script smb-security-mode 10.0.17.200\nnmap -p445 --script smb-enum-sessions 10.0.17.200\nnmap -p445 --script smb-enum-sessions --script-args smbusername=administrator,smbpassword=smbserver_771 10.0.17.200\nnmap -p445 --script smb-enum-shares 10.0.17.200\nnmap -p445 --script smb-enum-shares --script-args smbusername=administrator,smbpassword=smbserver_771 10.0.17.200\nnmap -p445 --script smb-enum-users --script-args smbusername=administrator,smbpassword=smbserver_771 10.0.17.200\nnmap -p445 --script smb-server-stats --script-args smbusername=administrator,smbpassword=smbserver_771 10.0.17.200\nnmap -p445 --script smb-enum-domains --script-args smbusername=administrator,smbpassword=smbserver_771 10.0.17.200\nnmap -p445 --script smb-enum-groups --script-args smbusername=administrator,smbpassword=smbserver_771 10.0.17.200\nnmap -p445 --script smb-enum-services --script-args smbusername=administrator,smbpassword=smbserver_771 10.0.17.200\nnmap -p445 --script smb-enum-shares,smb-ls --script-args smbusername=administrator,smbpassword=smbserver_771 10.0.17.200\n</code></pre>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/","title":"Information Gathering","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#1-introduction","title":"1 - Introduction","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#11","title":"1.1","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#2-passive-information-gathering","title":"2 - Passive Information Gathering","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#21","title":"2.1","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#211","title":"2.1.1","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#2111","title":"2.1.1.1","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#21111","title":"2.1.1.1.1","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#211111","title":"# 2.1.1.1.1.1","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#2111111","title":"## 2.1.1.1.1.1.1","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#3-active-information-gathering","title":"3 - Active Information Gathering","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#31","title":"3.1","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#4-conclution","title":"4 - Conclution","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#41","title":"4.1","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#1","title":"1","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#2","title":"2","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#3","title":"3","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#4","title":"4","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#5","title":"5","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#dns-recon-passive-information-gathering","title":"DNS Recon (Passive Information Gathering)","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#dnsrecon-tool","title":"dnsrecon (Tool)","text":"<p> DNSRecon Homepage dnsrecon | Kali Linux Tools</p> <p>DNSRecon is a Python script that provides the ability to perform:</p> <ul> <li>Check all NS Records for Zone Transfers.</li> <li>Enumerate General DNS Records for a given Domain (MX, SOA, NS, A, AAAA, SPF and TXT).</li> <li>Perform common SRV Record Enumeration.</li> <li>Top Level Domain (TLD) Expansion.</li> <li>Check for Wildcard Resolution.</li> <li>Brute Force subdomain and host A and AAAA records given a domain and a wordlist.</li> <li>Perform a PTR Record lookup for a given IP Range or CIDR.</li> <li>Check a DNS Server Cached records for A, AAAA and CNAME</li> <li>Records provided a list of host records in a text file to check.</li> <li>Enumerate Hosts and Subdomains using Google</li> </ul>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering%20copy/#inline-blocks","title":"Inline blocks","text":"<p>Admonitions can also be rendered as inline blocks (e.g., for sidebars), placing them to the right using the <code>inline</code> + <code>end</code> modifiers, or to the left using only the <code>inline</code> modifier:</p> <pre><code>!!! info inline end \"Lorem ipsum\"\n\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et\n    euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo\n    purus auctor massa, nec semper lorem quam in massa.\n\n``` markdown\n!!! info inline end \"Lorem ipsum\"\n\n    Lorem ipsum dolor sit amet, consectetur\n    adipiscing elit. Nulla et euismod nulla.\n    Curabitur feugiat, tortor non consequat\n    finibus, justo purus auctor massa, nec\n    semper lorem quam in massa.\n```\n\nUse `inline end` to align to the right (left for rtl languages).\n</code></pre>  inline <p>Lorem ipsum</p> <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <pre><code>!!! info inline \"Lorem ipsum\"\n\n    Lorem ipsum dolor sit amet, consectetur\n    adipiscing elit. Nulla et euismod nulla.\n    Curabitur feugiat, tortor non consequat\n    finibus, justo purus auctor massa, nec\n    semper lorem quam in massa.\n</code></pre> <p>Use <code>inline</code> to align to the left (right for rtl languages).</p> <p>Important: admonitions that use the <code>inline</code> modifiers must be declared prior to the content block you want to place them beside. If there's insufficient space to render the admonition next to the block, the admonition will stretch to the full width of the viewport, e.g., on mobile viewports.</p>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/","title":"Information Gathering","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#introduction","title":"Introduction","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#passive-information-gathering","title":"Passive Information Gathering","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#website-recon-footprinting","title":"Website Recon &amp; Footprinting","text":"What are we looking for: <ul> <li>IP Addresses</li> <li>Directories hidden from search engines</li> <li>Names</li> <li>Email addresses</li> <li>Phone Numbers</li> <li>Physical addresses</li> <li>Web technologies being used</li> </ul> <p><pre><code># The whatis command is used to get brief information about Linux commands or functions.\nwhatis host\nhost hackersploit.org\n</code></pre> About /robots.txt https://hackersploit.org/robots.txt sitemaps.org https://hackersploit.org/sitemap.xml https://hackersploit.org/sitemaps.xml  </p>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#whois-enumeration","title":"Whois Enumeration","text":"<p>  Homepage  | Kali Linux Tools</p>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#website-footprinting-with-netcraft","title":"Website Footprinting With Netcraft","text":"<p>  Homepage  | Kali Linux Tools</p>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#dns-recon","title":"DNS Recon","text":"<p>TO-DO</p> <p>Create a list of DNS records types. Ex: AAAA, TXT, MS, MX...</p>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#dnsrecon-cli-tool","title":"dnsrecon (cli tool)","text":"<p>DNSRecon</p> <p>DNSRecon is a Python script that provides the ability to perform:</p> <ul> <li>Check all NS Records for Zone Transfers.</li> <li>Enumerate General DNS Records for a given Domain (MX, SOA, NS, A, AAAA, SPF and TXT).</li> <li>Perform common SRV Record Enumeration.</li> <li>Top Level Domain (TLD) Expansion.</li> <li>Check for Wildcard Resolution.</li> <li>Brute Force subdomain and host A and AAAA records given a domain and a wordlist.</li> <li>Perform a PTR Record lookup for a given IP Range or CIDR.</li> <li>Check a DNS Server Cached records for A, AAAA and CNAME.</li> <li>Records provided a list of host records in a text file to check.</li> <li>Enumerate Hosts and Subdomains using Google.</li> </ul> <p> DNSRecon Homepage dnsrecon | Kali Linux Tools <pre><code>dnsrecon -d hackersploit.org\n</code></pre></p>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#dnsdumpstercom-web-tool","title":"dnsdumpster.com (web tool)","text":"<p>DNSdumpster</p> <p>DNSdumpster.com is a FREE domain research tool that can discover hosts related to a domain. Finding visible hosts from the attackers perspective is an important part of the security assessment process.</p> <p> DNSdumpster Homepage</p>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#waf-with-wafw00f","title":"WAF With wafw00f","text":"<p>WAFW00F</p> <p>This package identifies and fingerprints Web Application Firewall (WAF) products using the following logic:</p> <ul> <li>Sends a normal HTTP request and analyses the response; this identifies a number of WAF solutions.</li> <li>If that is not successful, it sends a number of (potentially malicious) HTTP requests and uses simple logic to deduce which WAF it is.</li> <li>If that is also not successful, it analyses the responses previously returned and uses another simple algorithm to guess if a WAF or security solution is actively responding to the attacks.</li> </ul> <p> WAFW00F Homepage wafw00f | Kali Linux Tools <pre><code>wafw00f hackersploit.org\n# Option: -a or --findall --&gt; MEANS --&gt; Testing For All Possible WAF Instances\nwafw00f hackersploit.org -a\n</code></pre></p>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#subdomain-enumeration-with-sublist3r","title":"Subdomain Enumeration With Sublist3r","text":"<p>Sublist3r</p> <p>This package contains a Python security tool designed to enumerate subdomains of websites using OSINT. It helps penetration testers and bug hunters collect and gather subdomains for the domain they are targeting over the network. Sublist3r enumerates subdomains using many search engines such as Google, Yahoo, Bing, Baidu, and Ask. Sublist3r also enumerates subdomains using Netcraft, Virustotal, ThreatCrowd, DNSdumpster, and ReverseDNS.</p> <p> Sublist3r Homepage sublist3r | Kali Linux Tools <pre><code>sudo apt install sublist3r\nsublist3r -d hackersploit.org\nsublist3r -d hackersploit.org -e google,yahoo\n</code></pre></p>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#google-dorks","title":"Google Dorks","text":"<p>TO-DO</p> <p>Google Dorks Ex:</p> <p> Google Homepage Google Hacking Database <pre><code>site:ine.com\nsite:ine.com inurl:admin\nsite:*.ine.com\nsite:*.ine.com inurl:admin\nsite:*.ine.com intitle:admin\nsite:*.ine.com filetype:pdf\nsite:ine.com instructors\nintitle:index of\n\ncache:ine.com\nwaybackmachine -&gt; https://archive.org/web/\n\ninurl:auth_user_file.txt\ninurl:passwd.txt\n</code></pre></p>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#email-harvesting-with-theharvester","title":"Email Harvesting With theHarvester","text":"<p>theHarvester</p> <p>The package contains a tool for gathering subdomain names, e-mail addresses, virtual hosts, open ports/ banners, and employee names from different public sources (search engines, pgp key servers).</p> <p> theHarvester Homepage theHarvester | Kali Linux Tools <pre><code>theHarvester -d hackersploit.org -b google,linkedin\n</code></pre></p>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#leaked-password-databases","title":"Leaked Password Databases","text":"<p> ';--have i beenpwned?</p>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#active-information-gathering","title":"Active Information Gathering","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#dns-zone-transfers","title":"DNS Zone Transfers","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#dns","title":"DNS","text":"<ul> <li>Domain Name System (DNS) is a protocol that is used to resolve domain names/hostnames to IP addresses.</li> <li>During the early days of the internet, users would have to remember the IP addresses of the sites that they wanted to visit, DNS resolves this issue by mapping domain names (easier to recall) to their respective IP addresses.</li> <li>A DNS server (nameserver) is like a telephone directory that contains domain names and their corresponding IP addresses.</li> <li>A plethora of public DNS servers have been set up by companies like Cloudflare (1.1.1.1) and Google (8.8.8.8). These DNS servers contain the records of almost all domains on the internet.</li> </ul>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#dns-records","title":"DNS Records","text":"<ul> <li>A - Resolves a hostname or domain to an IPv4 address.</li> <li>AAAA - Resolves a hostname or domain to an IPv6 address.</li> <li>NS - Reference to the domains nameserver.</li> <li>MX - Resolves a domain to a mail server.</li> <li>CNAME - Used for domain aliases.</li> <li>TXT - Text record.</li> <li>HINFO - Host information.</li> <li>SOA - Domain authority.</li> <li>SRV - Service records.</li> <li>PTR - Resolves an IP address to a hostname.</li> </ul>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#dns-interrogation","title":"DNS Interrogation","text":"<ul> <li>DNS interrogation is the process of enumerating DNS records for a specific domain.</li> <li>The objective of DNS interrogation is to probe a DNS server to provide us with DNS records for a specific domain.</li> <li>This process can provide with important information like the IP address of a domain, subdomains, mail server addresses etc.</li> </ul>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#dns-zone-transfer","title":"DNS Zone Transfer","text":"<ul> <li>In certain cases DNS server admins may want to copy or transfer zone files from one DNS server to another. This process is known as a zone transfer.</li> <li>If misconfigured and left unsecured, this functionality can be abused by attackers to copy the zone file from the primary DNS server to another DNS server.</li> <li>A DNS Zone transfer can provide penetration testers with a holistic view of an organization's network layout.</li> <li>Furthermore, in certain cases, internal network addresses may be found on an organization's DNS servers.</li> </ul> <p> ZoneTransfer.me Homepage <pre><code>dnsenum zonetransfer.me\ndig axfr @nsztm1.digi.ninja zonetransfer.me\nfierce -dns zonetransfer.me\n</code></pre></p> <p>Info</p> <p>sudo vim /etc/hosts</p>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#host-discovery-with-nmap","title":"Host Discovery With Nmap","text":"<p>nmap</p> <p>Nmap is a utility for network exploration or security auditing. It supports ping scanning (determine which hosts are up), many port scanning techniques, version detection (determine service protocols and application versions listening behind ports), and TCP/IP fingerprinting (remote host OS or device identification). Nmap also offers flexible target and port specification, decoy/stealth scanning, sunRPC scanning, and more. Most Unix and Windows platforms are supported in both GUI and commandline modes. Several popular handheld devices are also supported, including the Sharp Zaurus and the iPAQ.</p> <p> Nmap Homepage Nmap | Kali Linux Tools <pre><code>ip a s\nsudo nmap -sn 192.168.2.0/24\nsudo netdiscover -i eth0 -r 192.168.2.0/24\n</code></pre></p>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#port-scanning-with-nmap","title":"Port Scanning With Nmap","text":"<pre><code># default nmap scan\nnmap 10.4.19.218\n# ultrapassa ping not permited\nnmap -Pn 10.4.19.218\n# tcp ports\n # all\nnmap -Pn -p- 10.4.19.218\n # some ports\nnmap -Pn -p 80,445,3389 10.4.19.218\n # range\nnmap -Pn -p1-100 10.4.19.218\n # fast scan\nnmap -Pn -F 10.4.19.218\n# udp port\nnmap -Pn -sU 10.4.19.218\n# fast and verbosity\nnmap -Pn -F 10.4.19.218 -v\n# service version scan\nnmap -Pn -F -sV 10.4.19.218\n# OS system detect\nnmap -Pn -F -sV -O 10.4.19.218 -v\n# list nmap scripts\nnmap -Pn -F -sV -O -sC 10.4.19.218 -v\n# nmap agrresive scan\nnmap -Pn -F -A 10.4.19.218 -v\n# speed scan\nnmap -Pn -F -T5 -sV -O -sC 10.4.19.218 -v\n# output to file\nnmap -Pn -F 10.4.19.218 -oN test.txt\nnmap -Pn -F 10.4.19.218 -oX test.xml\n</code></pre> <p>  Homepage  | Kali Linux Tools</p>"},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#windows-recon-nmap-host-discovery","title":"Windows Recon: Nmap Host Discovery","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C1-Information-Gathering/Information-Gathering/#conclusion","title":"Conclusion","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C2-Footprinting-Scanning/Footprinting-Scanning/","title":"Footprinting & Scanning","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C2-Footprinting-Scanning/Footprinting-Scanning/#mapping-a-network","title":"Mapping a Network","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C2-Footprinting-Scanning/Footprinting-Scanning/#tools","title":"Tools","text":"<ul> <li>wireshark</li> <li>arp-scan arp-scan<pre><code>sudo arp-scan -I eth0 -g 192.168.1.0/24\n</code></pre></li> <li>ping</li> <li>fping fping<pre><code># 2&gt;/dev/null - sends erros to null file\nfping -I eth0 -g 192.168.1.0/24 -a 2&gt;/dev/null\n</code></pre></li> <li>nmap nmap<pre><code>nmap -sn 192.168.1.0/24\n</code></pre></li> <li>zenmap</li> </ul> <p> Wireshark arp-scan </p>"},{"location":"eJPT/S1-Assessment-Methodologies/C2-Footprinting-Scanning/Footprinting-Scanning/#port-scanning","title":"Port Scanning","text":"nmap<pre><code># ips is a txt with ip from network to scan\nnmap -iL ips -sV -O -sC\n</code></pre> <ul> <li>zenmap - gui nmap</li> <li>nmap automator</li> <li>masscan</li> <li>rustscan</li> <li>autorecon</li> </ul>"},{"location":"eJPT/S1-Assessment-Methodologies/C2-Footprinting-Scanning/Footprinting-Scanning/#nmap-host-discovery","title":"NMAP Host Discovery","text":"script<pre><code>ping 10.4.28.137\narp-scan -g 10.4.28.137\nnmap -Pn 10.4.28.137\nnmap -Pn 10.4.28.137 -p 80,135,139,445,3389,49154,49155 -sV -O\n</code></pre>"},{"location":"eJPT/S1-Assessment-Methodologies/C3/Enumeration/","title":"Enumeration","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C3/Enumeration/#smb-lesson","title":"SMB Lesson","text":""},{"location":"eJPT/S1-Assessment-Methodologies/C3/Enumeration/#discover-smb-share-and-mount-it","title":"Discover SMB share and mount it","text":"<pre><code># Learn to use Nmap to scan the target machine and mount the SMB share of the target machine using the Windows File Explorer as well as using the command prompt.\n\n# Checking the IP address.\nipconfig\n\n# Run Nmap scan against the subnet to discover the target machine\u2019s IP address.\n# Nmap --open option would show only exposed ports of the live hosts.\nnmap 10.2.16.0/20 --open\n\n# Clear the stored session.\nnet use * /delete\n# Mount the target folder.\nnet use Z: \\\\10.0.22.92\\C$ smbserver_771 /user:administrator\n</code></pre> <pre><code># Your task is to fingerprint the service using the tools available on the Kali machine and run Nmap scripts to enumerate the Windows target machine SMB service.\n\n# Checking the target IP address.\ncat /root/Desktop/target\n\n# Ping the target machine to see if it\u2019s alive or not.\n# We can observe that the target machine is alive and we have successfully sent and received all five packets.\nping -c 5 10.2.28.180\n\n# Run a Nmap scan against the target IP.\nnmap 10.2.28.180\n\n# We have discovered that multiple ports are open. SMB port 445 is also exposed. We will run the Nmap script to list the supported protocols and dialects of an SMB server.\nnmap -p445 --script smb-protocols 10.2.28.180\n\n# Running security mode script to return the information about the SMB security level.\n# We have tried to access the target SMB server using a guest user and we have received SMB security level information.\nnmap -p445 --script smb-security-mode 10.2.28.180\n\n# We have the SMB server credentials i.e administrator:smbserver_771. We will use it with Nmap script to scan the target to discover sensitive information.\n# Enumerating the users logged into a system through an SMB share with Nmap script.\n# First, we won\u2019t use any credentials to see the output.\nnmap -p445 --script smb-enum-sessions 10.2.28.180\n# In case guest login is not enabled we can always use valid credentials of the target machine to discover the same information.\nnmap -p445 --script smb-enum-sessions --script-args smbusername=administrator,smbpassword=smbserver_771 10.2.28.180\n\n# Enumerating all available shares.\nnmap -p445 --script smb-enum-shares 10.2.28.180\n\n# \"The IPC$ share is also known as a null session connection. By using this session, Windows lets anonymous users perform certain activities, such as enumerating the names of domain accounts and network shares.\"\n\n# Scanning all shares using valid credentials to check the permissions.\nnmap -p445 --script smb-enum-shares --script-args smbusername=administrator,smbpassword=smbserver_771 10.2.28.180\n\n# Enumerate the windows users on a target machine.\nnmap -p445 --script smb-enum-users --script-args smbusername=administrator,smbpassword=smbserver_771 10.2.28.180\n\n# Get information about the server statistics. It uses port 445 and port 139 to fetch the details.\nnmap -p445 --script smb-server-stats --script-args smbusername=administrator,smbpassword=smbserver_771 10.2.28.180\n\n# Enumerating available domains on a target machine.\nnmap -p445 --script smb-enum-domains --script-args smbusername=administrator,smbpassword=smbserver_771 10.2.28.180\n\n# Enumerating available user groups on a target machine.\nnmap -p445 --script smb-enum-groups --script-args smbusername=administrator,smbpassword=smbserver_771 10.2.28.180\n\n# Enumerating services on a target machine.\nnmap -p445 --script smb-enum-services --script-args smbusername=administrator,smbpassword=smbserver_771 10.2.28.180\n\n# Enumerating all the shared folders and drives then running the ls command (The ls command is used to list files or directories, similarly dir in windows) on all the shared folders.\nnmap -p445 --script smb-enum-shares,smb-ls --script-args smbusername=administrator,smbpassword=smbserver_771 10.2.28.180\n</code></pre> <pre><code># Your task is to fingerprint the service using the tools available on the Kali machine and run the smbmap tool to enumerate the target machine service.\n\n# Checking the target IP address.\ncat /root/Desktop/target\n\n# Run a Nmap scan against the target IP.\nnmap 10.2.24.213\n\n# We have discovered that multiple ports are open. SMB port 445 is also exposed. We will run Nmap script to list the supported protocols and dialects of an SMB server.\nnmap -p445 --script smb-protocols 10.2.24.213\n\n# We will use the smbmap python script to enumerate the target machine.\n# Running smbmap tool to discover all shared folders and drives.\nsmbmap -u guest -p \"\" -d . -H 10.2.24.213\n\n# Running smbmap with administrator user credentials.\nsmbmap -u administrator -p smbserver_771 -d . -H 10.2.24.213\n\n# Execute the command on the target machine through SMB.\nsmbmap -H 10.2.24.213 -u administrator -p smbserver_771 -x 'ipconfig'\n\n# Listing all drives on the specified host.\nsmbmap -H 10.2.24.213 -u administrator -p smbserver_771 -L\n\n# List contents of the directory of C:\\ drive.\nsmbmap -H 10.2.24.213 -u administrator -p smbserver_771 -r 'C$'\n\n# We can also upload a file using the smbmap tool if we have the write permission on the shared folder.\n# Uploading a sample file.\ntouch backdoor\nsmbmap -H 10.2.24.213 -u administrator -p smbserver_771 --upload '/root/backdoor' 'C$\\backdoor'\n# Verify that the files have been uploaded on the target machine.\nsmbmap -H 10.2.24.213 -u administrator -p smbserver_771 -r 'C$'\n\n# Download the flag.txt file.\nsmbmap -H 10.2.24.213 -u administrator -p smbserver_771 --download 'C$\\flag.txt'\ncat /root/10.2.24.213-C_flag.txt\n</code></pre>"}]}